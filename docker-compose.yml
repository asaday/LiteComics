version: '3.8'

services:
  viewer:
    build: https://github.com/asaday/LiteComics.git#main
    container_name: litecomics
    ports:
      - "8539:8539"
    volumes:
      # コミックファイルのディレクトリをマウント（必要に応じて変更）
      - /path/to/your/comics:/data:ro
      # 設定ファイルを永続化（初回起動時に config.json.example からコピーされる）
      - config-data:/app/config
      # サムネイルキャッシュを永続化
      - thumbnail-cache:/app/.thumbnail-cache
    environment:
      # config.json の場所を指定
      - CONFIG_PATH=/app/config/config.json
    restart: unless-stopped

volumes:
  config-data:
  thumbnail-cache:
